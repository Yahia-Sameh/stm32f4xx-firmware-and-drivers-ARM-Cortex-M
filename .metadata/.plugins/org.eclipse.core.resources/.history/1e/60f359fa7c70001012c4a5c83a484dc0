`/*
 * NVIC_header.h
 *
 *  Created on: Aug 3, 2025
 *      Author: cgame
 */

#ifndef NVIC_PRIVATE_H_
#define NVIC_PRIVATE_H_

#define NVIC_BASEADDR 0XE000E100UL

typedef struct
{
 uint32_t ISER[8];        /* Interrupt Set Enable Register */
 uint32_t RESERVED1[24];
 uint32_t ICER[8];        /* Interrupt Clear Enable Register */
 uint32_t RESERVED2[24];
 uint32_t ISPR[8];        /* Interrupt Set Pending Register */
 uint32_t RESERVED3[24];
 uint32_t ICPR[8];        /* Interrupt Clear Pending Register */
 uint32_t RESERVED4[24];
 uint32_t IABR[8];        /* Interrupt Active Bit Register */
 uint32_t RESERVED5[56];
 uint8_t  IPR[240];        /* Interrupt Priority Register */
 uint32_t RESERVED6[580];
 uint32_t STIR;           /* Software Trigger Interrupt Register */
} NVIC_t;

typedef enum {

    // Peripheral interrupts (IRQ 0+)
    WWDG_IRQn = 0,          // Window watchdog
    PVD_IRQn = 1,           // EXTI Line 16 / PVD
    TAMP_STAMP_IRQn = 2,    // EXTI Line 21 / Tamper
    RTC_WKUP_IRQn = 3,      // EXTI Line 22 / RTC wakeup
    FLASH_IRQn = 4,         // Flash global interrupt
    RCC_IRQn = 5,           // RCC global interrupt
    EXTI0_IRQn = 6,         // EXTI Line 0
    EXTI1_IRQn = 7,         // EXTI Line 1
    EXTI2_IRQn = 8,         // EXTI Line 2
    EXTI3_IRQn = 9,         // EXTI Line 3
    EXTI4_IRQn = 10,        // EXTI Line 4
    DMA1_Stream0_IRQn = 11, // DMA1 Stream 0
    DMA1_Stream1_IRQn = 12, // DMA1 Stream 1
    DMA1_Stream2_IRQn = 13, // DMA1 Stream 2
    DMA1_Stream3_IRQn = 14, // DMA1 Stream 3
    DMA1_Stream4_IRQn = 15, // DMA1 Stream 4
    DMA1_Stream5_IRQn = 16, // DMA1 Stream 5
    DMA1_Stream6_IRQn = 17, // DMA1 Stream 6
    ADC_IRQn = 18,          // ADC1 global interrupt
    EXTI9_5_IRQn = 23,      // EXTI Lines 9-5
    TIM1_BRK_TIM9_IRQn = 24,// TIM1 break / TIM9
    TIM1_UP_TIM10_IRQn = 25,// TIM1 update / TIM10
    TIM1_TRG_COM_TIM11_IRQn = 26, // TIM1 trigger / TIM11
    TIM1_CC_IRQn = 27,      // TIM1 capture/compare
    TIM2_IRQn = 28,         // TIM2 global
    TIM3_IRQn = 29,         // TIM3 global
    TIM4_IRQn = 30,         // TIM4 global
    I2C1_EV_IRQn = 31,      // I2C1 event
    I2C1_ER_IRQn = 32,      // I2C1 error
    I2C2_EV_IRQn = 33,      // I2C2 event
    I2C2_ER_IRQn = 34,      // I2C2 error
    SPI1_IRQn = 35,         // SPI1 global
    SPI2_IRQn = 36,         // SPI2 global
    USART1_IRQn = 37,       // USART1 global
    USART2_IRQn = 38,       // USART2 global
    EXTI15_10_IRQn = 40,    // EXTI Lines 15-10
    RTC_Alarm_IRQn = 41,    // EXTI Line 17 / RTC alarm
    OTG_FS_WKUP_IRQn = 42,  // EXTI Line 18 / OTG FS wakeup
    DMA1_Stream7_IRQn = 47, // DMA1 Stream 7
    SDIO_IRQn = 49,         // SDIO global
    TIM5_IRQn = 50,         // TIM5 global
    SPI3_IRQn = 51,         // SPI3 global
    DMA2_Stream0_IRQn = 56, // DMA2 Stream 0
    DMA2_Stream1_IRQn = 57, // DMA2 Stream 1
    DMA2_Stream2_IRQn = 58, // DMA2 Stream 2
    DMA2_Stream3_IRQn = 59, // DMA2 Stream 3
    DMA2_Stream4_IRQn = 60, // DMA2 Stream 4
    OTG_FS_IRQn = 67,       // USB OTG FS global
    DMA2_Stream5_IRQn = 68, // DMA2 Stream 5
    DMA2_Stream6_IRQn = 69, // DMA2 Stream 6
    DMA2_Stream7_IRQn = 70, // DMA2 Stream 7
    USART6_IRQn = 71,       // USART6 global
    I2C3_EV_IRQn = 72,      // I2C3 event
    I2C3_ER_IRQn = 73,      // I2C3 error
    FPU_IRQn = 81,          // FPU global
    SPI4_IRQn = 84,         // SPI4 global
} IRQn_Type;

#define MNVIC ((volatile NVIC_t*) NVIC_BASEADDR)

void NVIC_vEnableIRQ(uint8_t IRQNumber);
void NVIC_vDisableIRQ(uint8_t IRQNumber);
void NVIC_vSetPendingFlag(uint8_t IRQNumber);
void NVIC_vClearPendingFlag(uint8_t IRQNumber);
uint8_t NVIC_vGetActiveFlag(uint8_t IRQNumber);
void NVIC_vSetPriority(uint8_t IRQNumber, uint8_t Priority);





#endif /* NVIC_PRIVATE_H_ */
